{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/index.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","videojsPlaybackrateAdjuster","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","videojs","ex","_typeof","createNewRanges","timeRanges","playbackRate","newRanges","push","start","end","createTimeRange","playbackrateAdjuster","player","tech","on","trigger","setSource","srcObj","next","setTech","newTech","duration","dur","currentTime","ct","setCurrentTime","buffered","bf","seekable","_seekable","played","_played","use","VERSION"],"mappings":";;;;;;CAAA,SAAAA,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,KAAAJ,EAAAK,4BAAAV,MAAA,WAAA,MAAA,YAAA,QAAAW,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAhB,GAAA,IAAAa,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAC,GAAA,kBAAAC,UAAAA,OAAA,KAAAlB,GAAAiB,EAAA,MAAAA,GAAAD,GAAA,EAAA,IAAAG,EAAA,MAAAA,GAAAH,GAAA,EAAA,IAAAI,GAAA,GAAAC,OAAA,uBAAAL,EAAA,IAAA,MAAAI,GAAAE,KAAA,mBAAAF,EAAA,GAAAG,GAAAV,EAAAG,IAAAf,WAAAW,GAAAI,GAAA,GAAAQ,KAAAD,EAAAtB,QAAA,SAAAU,GAAA,MAAAI,GAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAY,EAAAA,EAAAtB,QAAAU,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAf,QAAA,IAAA,GAAAkB,GAAA,kBAAAD,UAAAA,QAAAF,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,GAAA,MAAAJ,OAAAe,GAAA,SAAAR,EAAAhB,EAAAD,4BCAA,6NAII0B,EAFJ,SAA0BC,GAAM,MAAQA,IAAqB,gBAAd,KAAOA,EAAP,YAAAC,EAAOD,KAAoB,WAAaA,GAAMA,EAAA,QAAgBA,GAE/F,mBAAwBtB,QAAtCA,OAAA,YAAA,KAAAC,EAAAA,EAAA,QAAA,MAEMuB,EAAkB,SAACC,EAAYC,GAGnC,IAAK,GAFCC,MAEGjB,EAAI,EAAGA,EAAIe,EAAWN,OAAQT,IACrCiB,EAAUC,MACRH,EAAWI,MAAMnB,GAAKgB,EACtBD,EAAWK,IAAIpB,GAAKgB,GAGxB,OAAOL,GAAQU,gBAAgBJ,IAG3BK,EAAuB,SAASC,GACpC,GAAIC,OAAA,EAOJ,OALAD,GAAOE,GAAG,aAAc,WACtBD,EAAKE,QAAQ,kBACbF,EAAKE,QAAQ,iBAIbC,UADK,SACKC,EAAQC,GAChBA,EAAK,KAAMD,IAGbE,QALK,SAKGC,GACNP,EAAOO,GAGTC,SATK,SASIC,GACP,MAAOA,GAAMV,EAAOP,gBAGtBkB,YAbK,SAaOC,GACV,MAAOA,GAAKZ,EAAOP,gBAGrBoB,eAjBK,SAiBUD,GACb,MAAOA,GAAKZ,EAAOP,gBAGrBqB,SArBK,SAqBIC,GACP,MAAOxB,GAAgBwB,EAAIf,EAAOP,iBAGpCuB,SAzBK,SAyBIC,GACP,MAAO1B,GAAgB0B,EAAUjB,EAAOP,iBAG1CyB,OA7BK,SA6BEC,GACL,MAAO5B,GAAgB4B,EAAQnB,EAAOP,kBAO5CL,GAAQgC,IAAI,IAAKrB,GAGjBA,EAAqBsB,QAAU,QAE/B1D,EAAOD,QAAUqC","file":"/Users/gkatsevman/p/videojs-playbackrate-adjuster/dist/browser/videojs-playbackrate-adjuster.min.js","sourceRoot":"","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar videojs = _interopDefault(require('video.js'));\n\nconst createNewRanges = (timeRanges, playbackRate) => {\n  const newRanges = [];\n\n  for (let i = 0; i < timeRanges.length; i++) {\n    newRanges.push([\n      timeRanges.start(i) / playbackRate,\n      timeRanges.end(i) / playbackRate]);\n  }\n\n  return videojs.createTimeRange(newRanges);\n};\n\nconst playbackrateAdjuster = function(player) {\n  let tech;\n\n  player.on('ratechange', function() {\n    tech.trigger('durationchange');\n    tech.trigger('timeupdate');\n  });\n\n  return {\n    setSource(srcObj, next) {\n      next(null, srcObj);\n    },\n\n    setTech(newTech) {\n      tech = newTech;\n    },\n\n    duration(dur) {\n      return dur / player.playbackRate();\n    },\n\n    currentTime(ct) {\n      return ct / player.playbackRate();\n    },\n\n    setCurrentTime(ct) {\n      return ct * player.playbackRate();\n    },\n\n    buffered(bf) {\n      return createNewRanges(bf, player.playbackRate());\n    },\n\n    seekable(seekable) {\n      return createNewRanges(seekable, player.playbackRate());\n    },\n\n    played(played) {\n      return createNewRanges(played, player.playbackRate());\n    }\n\n  };\n};\n\n// Register the plugin with video.js.\nvideojs.use('*', playbackrateAdjuster);\n\n// Include the version number.\nplaybackrateAdjuster.VERSION = '__VERSION__';\n\nmodule.exports = playbackrateAdjuster;\n"]}